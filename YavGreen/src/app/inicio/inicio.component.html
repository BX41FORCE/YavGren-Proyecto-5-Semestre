<div class="container">
  <div class="jumbotron p-4 p-md-5 text-white rounded" style="background-color: #3F3F3F;">
    <div class="row flex-md-row mb-4 shadow-sm h-md-250 position-relative">
      <div class="col-md-6 px-0">
        <h1 class="display-4 font-italic" style="color:#B8CD33;">Bienvenido a <img  id="logo"
            src="../../assets/img/YavGreen.png" /></h1>
        <p class="lead my-3">Aquí podras encontrar información y noticias ecológicas
          <br /> ¡No te olvides de revisar los eventos que tenemos par tí!</p>

        <!--<p class="lead mb-0"><a href="#" class="text-white font-weight-bold">Vamos...</a></p>-->
      </div>
      <div id="carouselExampleIndicators" class="carousel slide col" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="../../assets/img/Reciclaje.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="../../assets/img/Reciclaje1.png" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="../../assets/img/ecologia-social.jpg" class="d-block w-100" alt="...">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </div>
  <h3 style="color:#B8CD33;">Noticias</h3>
  <div class="row">
    <div class="col-sm-4" *ngFor="let item of noticias">
      <div class="card sm-4" style="border-color: #B8CD33; background-color: rgb(80, 75, 80);">
        <div class="card-body">
          <h5 class="card-title" style="color: #B8CD33;">{{item.nombre_noticia}}</h5>
          <!--<p class="card-text" style="color: white">{{item.descripcion_noticia}}</p>-->
          <br >
          <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
           
            <button class="btn btn-sm btn-success btn-sm" (click)="verNoticia(item.id_noticia)" type="submit"
              data-toggle="modal" data-target="#noticiaModal"><i class="far fa-comment-dots"></i> Ver</button>
            <button class="btn btn-sm btn-warning btn-sm" (click)="verNoticia(item.id_noticia)" type="submit"
              data-toggle="modal" data-target="#noticiaModalEdicion"><i class="fas fa-edit"></i>Editar </button>
            <button type="button" class="btn btn-sm btn-danger btn-sm"
              (click)="eliminarNoticia(item.id_noticia)"><i
              class="fas fa-trash"></i>  Eliminar</button>
          </div>
        </div>
      </div>
      <br>
    </div>
  </div>
  <h3 style="color:#B8CD33;">Eventos</h3>
  <div class="row">
    <div class="col-sm-6" *ngFor="let item of eventos">
      <div class="card" style="border-color: #B8CD33;">
        <div class="card-body" style="background-color: #082050;">
          <img id="eventoImg" src="../../assets/img/inicio{{verFotoEvento()}}.jpg" style="float: right;" />
          <h5 class="card-title" style="color: #B8CD33;">{{item.nombre_evento}}</h5>
          <p class="card-text text-justify" style="color: white;">
            <!--Objetivo: {{item.objetivo_evento}}<br />--> Fecha: {{item.fecha_evento|date:"dd/MM/yyyy"}}
            <br />Lugar: {{item.lugar_evento}}</p>
          <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
            <button class="btn btn-sm btn-primary" (click)="verEvento(item.id_evento)" type="submit" data-toggle="modal"
              data-target="#eventoModal"><i class="fas fa-calendar-day"></i> Ver Evento
            </button>
            <button class="btn btn-sm btn-warning" (click)="verEvento(item.id_evento)" type="submit" data-toggle="modal"
              data-target="#eventoModalEdicion"><i class="fas fa-edit"></i> Editar</button>
            <button type="button" class="btn btn-sm btn-danger" (click)="eliminarEvento(item.id_evento)"><i
                class="fas fa-trash"></i> Eliminar</button>
          </div>
        </div>
      </div>
      <br />
    </div>
  </div>
</div>
<div class="modal fade" id="noticiaModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle"
  aria-hidden="true" style="background-color: rgba(0, 0, 0, 0.719);">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalScrollableTitle" style="color: #B8CD33;" *ngFor="let item of noticias1">
          {{item.nombre_noticia}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-justify" *ngFor="let item of noticias1">
        <img id="modalImg" src="{{fotoNoticia}}" hspace="5" vspace="5" style="float: right;" />
        {{item.descripcion_noticia}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="noticiaModalEdicion" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalScrollableTitle" aria-hidden="true" style="background-color: rgba(0, 0, 0, 0.719);">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 style="color: #B8CD33;">Edición de Noticia</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-justify" *ngFor="let item of noticias1">
        <label for="titulo">Título</label>
        <input type="text" class="form-control col" placeholder="Título de la noticia" required
          [(ngModel)]="item.nombre_noticia">
        <br />
        <label for="descripcion">Descripción</label>
        <p></p>
        <textarea class="col" placeholder="Cuerpo de la Noticia" cols="40" rows="8" style="resize: both;"
          [(ngModel)]="item.descripcion_noticia"></textarea>
        <p></p>
        <div class="modal-footer">
          <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
            <button class="btn btn-sm btn-success"
              (click)="actualizarNoticia(item.id_noticia,item.nombre_noticia,item.descripcion_noticia)" type="submit"
              data-dismiss="modal"><i class="fas fa-save"></i> Guardar</button>
            <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal"><i class="fas fa-window-close"></i>
              Cancelar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="eventoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle"
  aria-hidden="true" style="background-color: rgba(0, 0, 0, 0.719);">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalScrollableTitle" style="color: #B8CD33;" *ngFor="let item of eventos1">
          {{item.nombre_evento}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-justify" *ngFor="let item of eventos1">
        <!-- <img id="modalImg" src="../../assets/img/gestionambiental_principal.jpg" hspace="5" vspace="5"
          style="float: right;" />-->
        <p>Lugar del evento: {{item.lugar_evento}}</p>
        <p>Fecha del evento: {{item.fecha_evento|date:"dd/MM/yyyy"}}</p>
        <p>Objetivo:<br /> {{item.objetivo_evento}}</p>
        <br />
        <div class="alert alert-primary" role="alert">
          Este evento te recompensará con {{item.puntaje_evento}} puntos
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="eventoModalEdicion" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalScrollableTitle" aria-hidden="true" style="background-color: rgba(0, 0, 0, 0.719);">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 style="color: #B8CD33;">Edición de Evento</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-justify" *ngFor="let item of eventos1">
        <label for="titulo">Nombre del Evento</label>
        <input type="text" class="form-control col" placeholder="Nombre del evento" [(ngModel)]="item.nombre_evento"
          required>
        <br />
        <label for="fecha">Fecha del Evento</label>
        <input type="date" id="inputDate" class="form-control col" [ngModel]="item.fecha_evento|date:'yyyy-MM-dd'"
          (ngModelChange)="item.fecha_evento=$event" name="fecha_evento" placeholder="Fecha del evento">
        <br />
        <label for="lugar">Lugar del Evento</label>
        <input type="text" class="form-control col" placeholder="Lugar del evento" required
          [(ngModel)]="item.lugar_evento">
        <br />
        <label for="objetivo">Objetivo del Evento</label>
        <p></p>
        <textarea class="col" placeholder="Objetivo del evento" cols="40" rows="4" style="resize: both;"
          [(ngModel)]="item.objetivo_evento"></textarea>
        <br />
        <label for="puntaje">Puntaje total del objetivo</label>
        <input type="number" min="50" max="100" class="form-control col"
          placeholder="Ingrese un valor entre 50 y 100 puntos" [(ngModel)]="item.puntaje_evento" disabled>
        <br />
        <label for="puntaje">Código del Evento</label>
        <input class="form-control col" placeholder="Código del Evento" [(ngModel)]="item.codigo_evento" disabled>
        <br />
        <!--<button class="btn btn-lg btn-primary btn-sm"
          (click)="generateQRCode(item.nombre_evento,item.puntaje_evento,item.codigo_evento) ">Generar Código
          QR</button>
        <p></p>
        <ngx-qrcode *ngIf="display " id="qrCodeImage" [qrc-element-type]="elementType " [qrc-value]="value ">
        </ngx-qrcode>
        <p></p>
        <a [href]="href " *ngIf="display " (click)="downloadImage() " download>Descargar Imagen</a>-->
        <br />
        <div class="modal-footer">
          <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
            <button class="btn btn-sm btn-success"
              (click)="actualizarEvento(item.id_evento,item.nombre_evento,item.fecha_evento,item.lugar_evento,item.objetivo_evento)"
              type="submit" data-dismiss="modal"><i class="fas fa-save"></i> Guardar</button>
            <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal"><i class="fas fa-window-close"></i>
              Cancelar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>